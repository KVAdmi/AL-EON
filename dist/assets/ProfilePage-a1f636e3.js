import{k as b,r as l,j as e}from"./index-e4e1323c.js";import{B as p}from"./button-b687bfad.js";function j(){const{profile:r,updateProfile:i,loading:d}=b(),[s,x]=l.useState((r==null?void 0:r.display_name)||""),[t,m]=l.useState((r==null?void 0:r.timezone)||"America/Mexico_City"),[u,v]=l.useState((r==null?void 0:r.preferred_language)||"es"),[a,c]=l.useState(!1);async function y(){c(!0);const o={};s!==(r==null?void 0:r.display_name)&&(o.display_name=s),t!==(r==null?void 0:r.timezone)&&(o.timezone=t);const n=await i(o);c(!1),n.success?alert("Perfil actualizado"):alert("Error: "+n.error)}return d?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("p",{className:"text-gray-500",children:"Cargando perfil..."})}):e.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",style:{color:"var(--color-text-primary)"},children:"Mi Perfil"}),e.jsxs("div",{className:"rounded-xl shadow p-6 space-y-6",style:{backgroundColor:"var(--color-bg-secondary)"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Email"}),e.jsx("input",{type:"email",value:(r==null?void 0:r.email)||"",disabled:!0,className:"w-full px-4 py-2 rounded-xl",style:{backgroundColor:"var(--color-bg-tertiary)",border:"1px solid var(--color-border)",color:"var(--color-text-tertiary)",cursor:"not-allowed"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Rol"}),e.jsx("div",{className:"px-4 py-2 rounded-xl",style:{backgroundColor:"var(--color-bg-tertiary)",border:"1px solid var(--color-border)",color:"var(--color-text-tertiary)"},children:(r==null?void 0:r.role)==="ROOT"?"ROOT (Admin Total)":"USER (Usuario)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Nombre"}),e.jsx("input",{type:"text",value:s,onChange:o=>x(o.target.value),className:"w-full px-4 py-2 rounded-xl",placeholder:"Tu nombre",style:{backgroundColor:"var(--color-bg-primary)",border:"1px solid var(--color-border)",color:"var(--color-text-primary)"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Idioma Preferido"}),e.jsxs("select",{value:u,onChange:o=>v(o.target.value),className:"w-full px-4 py-2 rounded-xl",style:{backgroundColor:"var(--color-bg-primary)",border:"1px solid var(--color-border)",color:"var(--color-text-primary)"},children:[e.jsx("option",{value:"es",children:"Español"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"pt",children:"Português"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Zona Horaria"}),e.jsxs("select",{value:t,onChange:o=>m(o.target.value),className:"w-full px-4 py-2 rounded-xl",style:{backgroundColor:"var(--color-bg-primary)",border:"1px solid var(--color-border)",color:"var(--color-text-primary)"},children:[e.jsx("option",{value:"America/Mexico_City",children:"México"}),e.jsx("option",{value:"America/New_York",children:"New York"}),e.jsx("option",{value:"America/Los_Angeles",children:"Los Angeles"}),e.jsx("option",{value:"Europe/Madrid",children:"Madrid"}),e.jsx("option",{value:"America/Sao_Paulo",children:"São Paulo"})]})]}),e.jsx(p,{onClick:y,disabled:a,className:"w-full rounded-xl px-4 py-3 font-medium transition-all",style:{backgroundColor:a?"var(--color-bg-tertiary)":"var(--color-accent)",color:"var(--color-text-primary)",border:"1px solid var(--color-border)",cursor:a?"not-allowed":"pointer"},children:a?"Guardando...":"Guardar Cambios"})]})]})}export{j as default};
