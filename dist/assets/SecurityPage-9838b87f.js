import{e as h,r as l,j as e,s as p}from"./index-e4e1323c.js";import{B as m}from"./button-b687bfad.js";function f(){const{user:r,signOut:x}=h(),[s,i]=l.useState(""),[t,c]=l.useState(""),[d,o]=l.useState(!1);async function u(){if(s!==t){alert("‚ùå Las contrase√±as no coinciden");return}if(s.length<8){alert("‚ùå La contrase√±a debe tener al menos 8 caracteres");return}o(!0);try{const{data:a,error:n}=await p.auth.updateUser({password:s});if(n){console.error("[SecurityPage] Error al cambiar contrase√±a:",n),alert(`‚ùå Error: ${n.message}`);return}console.log("[SecurityPage] ‚úÖ Contrase√±a cambiada exitosamente"),alert("‚úÖ Contrase√±a actualizada correctamente"),i(""),c("")}catch(a){console.error("[SecurityPage] Error inesperado:",a),alert(`‚ùå Error inesperado: ${a.message}`)}finally{o(!1)}}async function g(){confirm("¬øCerrar sesi√≥n?")&&await x()}return e.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"üîê Seguridad"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sesi√≥n Actual"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Usuario:"})," ",r==null?void 0:r.email]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Estado:"})," üü¢ Conectado"]})]}),e.jsx(m,{onClick:g,variant:"destructive",className:"w-full",children:"Cerrar Sesi√≥n"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Cambiar Contrase√±a"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nueva Contrase√±a"}),e.jsx("input",{type:"password",value:s,onChange:a=>i(a.target.value),className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700",placeholder:"M√≠nimo 8 caracteres"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirmar Contrase√±a"}),e.jsx("input",{type:"password",value:t,onChange:a=>c(a.target.value),className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700",placeholder:"Repite la contrase√±a"})]}),e.jsx(m,{onClick:u,disabled:d||!s||!t,className:"w-full",children:d?"Cambiando...":"üîë Cambiar Contrase√±a"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sesiones Activas"}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"üñ•Ô∏è Esta sesi√≥n"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ahora"})]}),e.jsx("span",{className:"text-green-600 font-medium",children:"Activa"})]})})]})]})]})}export{f as default};
