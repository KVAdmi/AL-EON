import{c as ct,R as Le,a as tn,u as nn,r as q,j as l,X as Ze}from"./index-e4e1323c.js";import{w as rn,x as on}from"./emailService-c4da49df.js";import{S as Qe}from"./send-1877c269.js";import{L as wt}from"./loader-2-b4ab27ec.js";import{S as an}from"./save-8c42dcad.js";import{P as Ot}from"./paperclip-ea40dd47.js";const Wn=ct("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),$n=ct("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),sn=ct("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:Bt,setPrototypeOf:Lt,isFrozen:ln,getPrototypeOf:cn,getOwnPropertyDescriptor:un}=Object;let{freeze:M,seal:H,create:at}=Object,{apply:st,construct:it}=typeof Reflect<"u"&&Reflect;M||(M=function(t){return t});H||(H=function(t){return t});st||(st=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];return t.apply(n,s)});it||(it=function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return new t(...a)});const Me=k(Array.prototype.forEach),dn=k(Array.prototype.lastIndexOf),Mt=k(Array.prototype.pop),be=k(Array.prototype.push),mn=k(Array.prototype.splice),Pe=k(String.prototype.toLowerCase),Je=k(String.prototype.toString),et=k(String.prototype.match),ye=k(String.prototype.replace),fn=k(String.prototype.indexOf),pn=k(String.prototype.trim),W=k(Object.prototype.hasOwnProperty),L=k(RegExp.prototype.test),Ae=hn(TypeError);function k(r){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return st(r,t,a)}}function hn(r){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return it(r,n)}}function f(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pe;Lt&&Lt(r,null);let a=t.length;for(;a--;){let s=t[a];if(typeof s=="string"){const c=n(s);c!==s&&(ln(t)||(t[a]=c),s=c)}r[s]=!0}return r}function gn(r){for(let t=0;t<r.length;t++)W(r,t)||(r[t]=null);return r}function V(r){const t=at(null);for(const[n,a]of Bt(r))W(r,n)&&(Array.isArray(a)?t[n]=gn(a):a&&typeof a=="object"&&a.constructor===Object?t[n]=V(a):t[n]=a);return t}function xe(r,t){for(;r!==null;){const a=un(r,t);if(a){if(a.get)return k(a.get);if(typeof a.value=="function")return k(a.value)}r=cn(r)}function n(){return null}return n}const kt=M(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tt=M(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),nt=M(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),_n=M(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rt=M(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),En=M(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Pt=M(["#text"]),jt=M(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ot=M(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ft=M(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ke=M(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bn=H(/\{\{[\w\W]*|[\w\W]*\}\}/gm),yn=H(/<%[\w\W]*|[\w\W]*%>/gm),An=H(/\$\{[\w\W]*/gm),xn=H(/^data-[\-\w.\u00B7-\uFFFF]+$/),Tn=H(/^aria-[\-\w]+$/),Wt=H(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Sn=H(/^(?:\w+script|data):/i),vn=H(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$t=H(/^html$/i),Nn=H(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ut=Object.freeze({__proto__:null,ARIA_ATTR:Tn,ATTR_WHITESPACE:vn,CUSTOM_ELEMENT:Nn,DATA_ATTR:xn,DOCTYPE_NAME:$t,ERB_EXPR:yn,IS_ALLOWED_URI:Wt,IS_SCRIPT_OR_DATA:Sn,MUSTACHE_EXPR:bn,TMPLIT_EXPR:An});const Te={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Cn=function(){return typeof window>"u"?null:window},Rn=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let a=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(a=n.getAttribute(s));const c="dompurify"+(a?"#"+a:"");try{return t.createPolicy(c,{createHTML(A){return A},createScriptURL(A){return A}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},Ht=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Yt(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cn();const t=u=>Yt(u);if(t.version="3.3.1",t.removed=[],!r||!r.document||r.document.nodeType!==Te.document||!r.Element)return t.isSupported=!1,t;let{document:n}=r;const a=n,s=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:A,Node:R,Element:F,NodeFilter:E,NamedNodeMap:z=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:h,DOMParser:U,trustedTypes:I}=r,G=F.prototype,p=xe(G,"cloneNode"),B=xe(G,"remove"),K=xe(G,"nextSibling"),S=xe(G,"childNodes"),w=xe(G,"parentNode");if(typeof A=="function"){const u=n.createElement("template");u.content&&u.content.ownerDocument&&(n=u.content.ownerDocument)}let b,$="";const{implementation:Z,createNodeIterator:Se,createDocumentFragment:ve,getElementsByTagName:g}=n,{importNode:ne}=a;let v=Ht();t.isSupported=typeof Bt=="function"&&typeof w=="function"&&Z&&Z.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:re,ERB_EXPR:fe,TMPLIT_EXPR:pe,DATA_ATTR:je,ARIA_ATTR:Fe,IS_SCRIPT_OR_DATA:he,ATTR_WHITESPACE:m,CUSTOM_ELEMENT:x}=Ut;let{IS_ALLOWED_URI:P}=Ut,d=null;const te=f({},[...kt,...tt,...nt,...rt,...Pt]);let N=null;const ut=f({},[...jt,...ot,...Ft,...ke]);let y=Object.seal(at(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ge=null,Ue=null;const se=Object.seal(at(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let dt=!0,He=!0,mt=!1,ft=!0,ie=!1,Ne=!0,oe=!1,ze=!1,Ge=!1,le=!1,Ce=!1,Re=!1,pt=!0,ht=!1;const Xt="user-content-";let Be=!0,_e=!1,ce={},Y=null;const We=f({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let gt=null;const _t=f({},["audio","video","img","source","image","track"]);let $e=null;const Et=f({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),De="http://www.w3.org/1998/Math/MathML",Ie="http://www.w3.org/2000/svg",Q="http://www.w3.org/1999/xhtml";let ue=Q,Ye=!1,Xe=null;const qt=f({},[De,Ie,Q],Je);let we=f({},["mi","mo","mn","ms","mtext"]),Oe=f({},["annotation-xml"]);const Vt=f({},["title","style","font","a","script"]);let Ee=null;const Kt=["application/xhtml+xml","text/html"],Zt="text/html";let C=null,de=null;const Qt=n.createElement("form"),bt=function(e){return e instanceof RegExp||e instanceof Function},qe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(de&&de===e)){if((!e||typeof e!="object")&&(e={}),e=V(e),Ee=Kt.indexOf(e.PARSER_MEDIA_TYPE)===-1?Zt:e.PARSER_MEDIA_TYPE,C=Ee==="application/xhtml+xml"?Je:Pe,d=W(e,"ALLOWED_TAGS")?f({},e.ALLOWED_TAGS,C):te,N=W(e,"ALLOWED_ATTR")?f({},e.ALLOWED_ATTR,C):ut,Xe=W(e,"ALLOWED_NAMESPACES")?f({},e.ALLOWED_NAMESPACES,Je):qt,$e=W(e,"ADD_URI_SAFE_ATTR")?f(V(Et),e.ADD_URI_SAFE_ATTR,C):Et,gt=W(e,"ADD_DATA_URI_TAGS")?f(V(_t),e.ADD_DATA_URI_TAGS,C):_t,Y=W(e,"FORBID_CONTENTS")?f({},e.FORBID_CONTENTS,C):We,ge=W(e,"FORBID_TAGS")?f({},e.FORBID_TAGS,C):V({}),Ue=W(e,"FORBID_ATTR")?f({},e.FORBID_ATTR,C):V({}),ce=W(e,"USE_PROFILES")?e.USE_PROFILES:!1,dt=e.ALLOW_ARIA_ATTR!==!1,He=e.ALLOW_DATA_ATTR!==!1,mt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ft=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ie=e.SAFE_FOR_TEMPLATES||!1,Ne=e.SAFE_FOR_XML!==!1,oe=e.WHOLE_DOCUMENT||!1,le=e.RETURN_DOM||!1,Ce=e.RETURN_DOM_FRAGMENT||!1,Re=e.RETURN_TRUSTED_TYPE||!1,Ge=e.FORCE_BODY||!1,pt=e.SANITIZE_DOM!==!1,ht=e.SANITIZE_NAMED_PROPS||!1,Be=e.KEEP_CONTENT!==!1,_e=e.IN_PLACE||!1,P=e.ALLOWED_URI_REGEXP||Wt,ue=e.NAMESPACE||Q,we=e.MATHML_TEXT_INTEGRATION_POINTS||we,Oe=e.HTML_INTEGRATION_POINTS||Oe,y=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&bt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(y.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&bt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(y.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(y.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ie&&(He=!1),Ce&&(le=!0),ce&&(d=f({},Pt),N=[],ce.html===!0&&(f(d,kt),f(N,jt)),ce.svg===!0&&(f(d,tt),f(N,ot),f(N,ke)),ce.svgFilters===!0&&(f(d,nt),f(N,ot),f(N,ke)),ce.mathMl===!0&&(f(d,rt),f(N,Ft),f(N,ke))),e.ADD_TAGS&&(typeof e.ADD_TAGS=="function"?se.tagCheck=e.ADD_TAGS:(d===te&&(d=V(d)),f(d,e.ADD_TAGS,C))),e.ADD_ATTR&&(typeof e.ADD_ATTR=="function"?se.attributeCheck=e.ADD_ATTR:(N===ut&&(N=V(N)),f(N,e.ADD_ATTR,C))),e.ADD_URI_SAFE_ATTR&&f($e,e.ADD_URI_SAFE_ATTR,C),e.FORBID_CONTENTS&&(Y===We&&(Y=V(Y)),f(Y,e.FORBID_CONTENTS,C)),e.ADD_FORBID_CONTENTS&&(Y===We&&(Y=V(Y)),f(Y,e.ADD_FORBID_CONTENTS,C)),Be&&(d["#text"]=!0),oe&&f(d,["html","head","body"]),d.table&&(f(d,["tbody"]),delete ge.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ae('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ae('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=e.TRUSTED_TYPES_POLICY,$=b.createHTML("")}else b===void 0&&(b=Rn(I,s)),b!==null&&typeof $=="string"&&($=b.createHTML(""));M&&M(e),de=e}},yt=f({},[...tt,...nt,..._n]),At=f({},[...rt,...En]),Jt=function(e){let o=w(e);(!o||!o.tagName)&&(o={namespaceURI:ue,tagName:"template"});const i=Pe(e.tagName),_=Pe(o.tagName);return Xe[e.namespaceURI]?e.namespaceURI===Ie?o.namespaceURI===Q?i==="svg":o.namespaceURI===De?i==="svg"&&(_==="annotation-xml"||we[_]):!!yt[i]:e.namespaceURI===De?o.namespaceURI===Q?i==="math":o.namespaceURI===Ie?i==="math"&&Oe[_]:!!At[i]:e.namespaceURI===Q?o.namespaceURI===Ie&&!Oe[_]||o.namespaceURI===De&&!we[_]?!1:!At[i]&&(Vt[i]||!yt[i]):!!(Ee==="application/xhtml+xml"&&Xe[e.namespaceURI]):!1},X=function(e){be(t.removed,{element:e});try{w(e).removeChild(e)}catch{B(e)}},ae=function(e,o){try{be(t.removed,{attribute:o.getAttributeNode(e),from:o})}catch{be(t.removed,{attribute:null,from:o})}if(o.removeAttribute(e),e==="is")if(le||Ce)try{X(o)}catch{}else try{o.setAttribute(e,"")}catch{}},xt=function(e){let o=null,i=null;if(Ge)e="<remove></remove>"+e;else{const T=et(e,/^[\r\n\t ]+/);i=T&&T[0]}Ee==="application/xhtml+xml"&&ue===Q&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const _=b?b.createHTML(e):e;if(ue===Q)try{o=new U().parseFromString(_,Ee)}catch{}if(!o||!o.documentElement){o=Z.createDocument(ue,"template",null);try{o.documentElement.innerHTML=Ye?$:_}catch{}}const O=o.body||o.documentElement;return e&&i&&O.insertBefore(n.createTextNode(i),O.childNodes[0]||null),ue===Q?g.call(o,oe?"html":"body")[0]:oe?o.documentElement:O},Tt=function(e){return Se.call(e.ownerDocument||e,e,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT|E.SHOW_PROCESSING_INSTRUCTION|E.SHOW_CDATA_SECTION,null)},Ve=function(e){return e instanceof h&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof z)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},St=function(e){return typeof R=="function"&&e instanceof R};function J(u,e,o){Me(u,i=>{i.call(t,e,o,de)})}const vt=function(e){let o=null;if(J(v.beforeSanitizeElements,e,null),Ve(e))return X(e),!0;const i=C(e.nodeName);if(J(v.uponSanitizeElement,e,{tagName:i,allowedTags:d}),Ne&&e.hasChildNodes()&&!St(e.firstElementChild)&&L(/<[/\w!]/g,e.innerHTML)&&L(/<[/\w!]/g,e.textContent)||e.nodeType===Te.progressingInstruction||Ne&&e.nodeType===Te.comment&&L(/<[/\w]/g,e.data))return X(e),!0;if(!(se.tagCheck instanceof Function&&se.tagCheck(i))&&(!d[i]||ge[i])){if(!ge[i]&&Ct(i)&&(y.tagNameCheck instanceof RegExp&&L(y.tagNameCheck,i)||y.tagNameCheck instanceof Function&&y.tagNameCheck(i)))return!1;if(Be&&!Y[i]){const _=w(e)||e.parentNode,O=S(e)||e.childNodes;if(O&&_){const T=O.length;for(let j=T-1;j>=0;--j){const ee=p(O[j],!0);ee.__removalCount=(e.__removalCount||0)+1,_.insertBefore(ee,K(e))}}}return X(e),!0}return e instanceof F&&!Jt(e)||(i==="noscript"||i==="noembed"||i==="noframes")&&L(/<\/no(script|embed|frames)/i,e.innerHTML)?(X(e),!0):(ie&&e.nodeType===Te.text&&(o=e.textContent,Me([re,fe,pe],_=>{o=ye(o,_," ")}),e.textContent!==o&&(be(t.removed,{element:e.cloneNode()}),e.textContent=o)),J(v.afterSanitizeElements,e,null),!1)},Nt=function(e,o,i){if(pt&&(o==="id"||o==="name")&&(i in n||i in Qt))return!1;if(!(He&&!Ue[o]&&L(je,o))){if(!(dt&&L(Fe,o))){if(!(se.attributeCheck instanceof Function&&se.attributeCheck(o,e))){if(!N[o]||Ue[o]){if(!(Ct(e)&&(y.tagNameCheck instanceof RegExp&&L(y.tagNameCheck,e)||y.tagNameCheck instanceof Function&&y.tagNameCheck(e))&&(y.attributeNameCheck instanceof RegExp&&L(y.attributeNameCheck,o)||y.attributeNameCheck instanceof Function&&y.attributeNameCheck(o,e))||o==="is"&&y.allowCustomizedBuiltInElements&&(y.tagNameCheck instanceof RegExp&&L(y.tagNameCheck,i)||y.tagNameCheck instanceof Function&&y.tagNameCheck(i))))return!1}else if(!$e[o]){if(!L(P,ye(i,m,""))){if(!((o==="src"||o==="xlink:href"||o==="href")&&e!=="script"&&fn(i,"data:")===0&&gt[e])){if(!(mt&&!L(he,ye(i,m,"")))){if(i)return!1}}}}}}}return!0},Ct=function(e){return e!=="annotation-xml"&&et(e,x)},Rt=function(e){J(v.beforeSanitizeAttributes,e,null);const{attributes:o}=e;if(!o||Ve(e))return;const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:N,forceKeepAttr:void 0};let _=o.length;for(;_--;){const O=o[_],{name:T,namespaceURI:j,value:ee}=O,me=C(T),Ke=ee;let D=T==="value"?Ke:pn(Ke);if(i.attrName=me,i.attrValue=D,i.keepAttr=!0,i.forceKeepAttr=void 0,J(v.uponSanitizeAttribute,e,i),D=i.attrValue,ht&&(me==="id"||me==="name")&&(ae(T,e),D=Xt+D),Ne&&L(/((--!?|])>)|<\/(style|title|textarea)/i,D)){ae(T,e);continue}if(me==="attributename"&&et(D,"href")){ae(T,e);continue}if(i.forceKeepAttr)continue;if(!i.keepAttr){ae(T,e);continue}if(!ft&&L(/\/>/i,D)){ae(T,e);continue}ie&&Me([re,fe,pe],It=>{D=ye(D,It," ")});const Dt=C(e.nodeName);if(!Nt(Dt,me,D)){ae(T,e);continue}if(b&&typeof I=="object"&&typeof I.getAttributeType=="function"&&!j)switch(I.getAttributeType(Dt,me)){case"TrustedHTML":{D=b.createHTML(D);break}case"TrustedScriptURL":{D=b.createScriptURL(D);break}}if(D!==Ke)try{j?e.setAttributeNS(j,T,D):e.setAttribute(T,D),Ve(e)?X(e):Mt(t.removed)}catch{ae(T,e)}}J(v.afterSanitizeAttributes,e,null)},en=function u(e){let o=null;const i=Tt(e);for(J(v.beforeSanitizeShadowDOM,e,null);o=i.nextNode();)J(v.uponSanitizeShadowNode,o,null),vt(o),Rt(o),o.content instanceof c&&u(o.content);J(v.afterSanitizeShadowDOM,e,null)};return t.sanitize=function(u){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=null,i=null,_=null,O=null;if(Ye=!u,Ye&&(u="<!-->"),typeof u!="string"&&!St(u))if(typeof u.toString=="function"){if(u=u.toString(),typeof u!="string")throw Ae("dirty is not a string, aborting")}else throw Ae("toString is not a function");if(!t.isSupported)return u;if(ze||qe(e),t.removed=[],typeof u=="string"&&(_e=!1),_e){if(u.nodeName){const ee=C(u.nodeName);if(!d[ee]||ge[ee])throw Ae("root node is forbidden and cannot be sanitized in-place")}}else if(u instanceof R)o=xt("<!---->"),i=o.ownerDocument.importNode(u,!0),i.nodeType===Te.element&&i.nodeName==="BODY"||i.nodeName==="HTML"?o=i:o.appendChild(i);else{if(!le&&!ie&&!oe&&u.indexOf("<")===-1)return b&&Re?b.createHTML(u):u;if(o=xt(u),!o)return le?null:Re?$:""}o&&Ge&&X(o.firstChild);const T=Tt(_e?u:o);for(;_=T.nextNode();)vt(_),Rt(_),_.content instanceof c&&en(_.content);if(_e)return u;if(le){if(Ce)for(O=ve.call(o.ownerDocument);o.firstChild;)O.appendChild(o.firstChild);else O=o;return(N.shadowroot||N.shadowrootmode)&&(O=ne.call(a,O,!0)),O}let j=oe?o.outerHTML:o.innerHTML;return oe&&d["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&L($t,o.ownerDocument.doctype.name)&&(j="<!DOCTYPE "+o.ownerDocument.doctype.name+`>
`+j),ie&&Me([re,fe,pe],ee=>{j=ye(j,ee," ")}),b&&Re?b.createHTML(j):j},t.setConfig=function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};qe(u),ze=!0},t.clearConfig=function(){de=null,ze=!1},t.isValidAttribute=function(u,e,o){de||qe({});const i=C(u),_=C(e);return Nt(i,_,o)},t.addHook=function(u,e){typeof e=="function"&&be(v[u],e)},t.removeHook=function(u,e){if(e!==void 0){const o=dn(v[u],e);return o===-1?void 0:mn(v[u],o,1)[0]}return Mt(v[u])},t.removeHooks=function(u){v[u]=[]},t.removeAllHooks=function(){v=Ht()},t}var Yn=Yt();const zt=r=>{let t;const n=new Set,a=(E,z)=>{const h=typeof E=="function"?E(t):E;if(!Object.is(h,t)){const U=t;t=z??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(I=>I(t,U))}},s=()=>t,R={setState:a,getState:s,getInitialState:()=>F,subscribe:E=>(n.add(E),()=>n.delete(E))},F=t=r(a,s,R);return R},Dn=r=>r?zt(r):zt,In=r=>r;function wn(r,t=In){const n=Le.useSyncExternalStore(r.subscribe,Le.useCallback(()=>t(r.getState()),[r,t]),Le.useCallback(()=>t(r.getInitialState()),[r,t]));return Le.useDebugValue(n),n}const Gt=r=>{const t=Dn(r),n=a=>wn(t,a);return Object.assign(n,t),n},On=r=>r?Gt(r):Gt;function Ln(r,t){let n;try{n=r()}catch{return}return{getItem:s=>{var c;const A=F=>F===null?null:JSON.parse(F,t==null?void 0:t.reviver),R=(c=n.getItem(s))!=null?c:null;return R instanceof Promise?R.then(A):A(R)},setItem:(s,c)=>n.setItem(s,JSON.stringify(c,t==null?void 0:t.replacer)),removeItem:s=>n.removeItem(s)}}const lt=r=>t=>{try{const n=r(t);return n instanceof Promise?n:{then(a){return lt(a)(n)},catch(a){return this}}}catch(n){return{then(a){return this},catch(a){return lt(a)(n)}}}},Mn=(r,t)=>(n,a,s)=>{let c={storage:Ln(()=>localStorage),partialize:p=>p,version:0,merge:(p,B)=>({...B,...p}),...t},A=!1;const R=new Set,F=new Set;let E=c.storage;if(!E)return r((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),n(...p)},a,s);const z=()=>{const p=c.partialize({...a()});return E.setItem(c.name,{state:p,version:c.version})},h=s.setState;s.setState=(p,B)=>(h(p,B),z());const U=r((...p)=>(n(...p),z()),a,s);s.getInitialState=()=>U;let I;const G=()=>{var p,B;if(!E)return;A=!1,R.forEach(S=>{var w;return S((w=a())!=null?w:U)});const K=((B=c.onRehydrateStorage)==null?void 0:B.call(c,(p=a())!=null?p:U))||void 0;return lt(E.getItem.bind(E))(c.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==c.version){if(c.migrate){const w=c.migrate(S.state,S.version);return w instanceof Promise?w.then(b=>[!0,b]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var w;const[b,$]=S;if(I=c.merge($,(w=a())!=null?w:U),n(I,!0),b)return z()}).then(()=>{K==null||K(I,void 0),I=a(),A=!0,F.forEach(S=>S(I))}).catch(S=>{K==null||K(void 0,S)})};return s.persist={setOptions:p=>{c={...c,...p},p.storage&&(E=p.storage)},clearStorage:()=>{E==null||E.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>G(),hasHydrated:()=>A,onHydrate:p=>(R.add(p),()=>{R.delete(p)}),onFinishHydration:p=>(F.add(p),()=>{F.delete(p)})},c.skipHydration||G(),I||U},kn=Mn,Pn=On(kn((r,t)=>({currentAccount:null,accounts:[],selectedAccountId:null,messages:[],selectedMessage:null,currentFolder:"inbox",searchQuery:"",filterUnread:!1,filterStarred:!1,composeDraft:null,isComposing:!1,loading:{accounts:!1,messages:!1,sending:!1,syncing:!1},pagination:{page:1,limit:50,total:0},setCurrentAccount:n=>r({currentAccount:n,selectedAccountId:(n==null?void 0:n.id)||null}),setAccounts:n=>r({accounts:n}),addAccount:n=>r(a=>({accounts:[...a.accounts,n]})),updateAccount:(n,a)=>r(s=>({accounts:s.accounts.map(c=>c.id===n?{...c,...a}:c)})),removeAccount:n=>r(a=>{var s;return{accounts:a.accounts.filter(c=>c.id!==n),currentAccount:((s=a.currentAccount)==null?void 0:s.id)===n?null:a.currentAccount}}),setMessages:n=>r({messages:n}),setSelectedMessage:n=>r({selectedMessage:n}),updateMessage:(n,a)=>r(s=>{var c;return{messages:s.messages.map(A=>A.id===n?{...A,...a}:A),selectedMessage:((c=s.selectedMessage)==null?void 0:c.id)===n?{...s.selectedMessage,...a}:s.selectedMessage}}),markAsRead:n=>r(a=>({messages:a.messages.map(s=>s.id===n?{...s,is_read:!0}:s)})),toggleStar:n=>r(a=>({messages:a.messages.map(s=>s.id===n?{...s,is_starred:!s.is_starred}:s)})),refreshMessages:null,setRefreshMessages:n=>r({refreshMessages:n}),triggerRefresh:()=>{const n=t();n.refreshMessages&&n.refreshMessages()},setCurrentFolder:n=>r({currentFolder:n}),setSearchQuery:n=>r({searchQuery:n}),setFilterUnread:n=>r({filterUnread:n}),setFilterStarred:n=>r({filterStarred:n}),startCompose:(n=null)=>r({isComposing:!0,composeDraft:n||{to:[],cc:[],bcc:[],subject:"",body_html:"",body_text:""}}),updateComposeDraft:n=>r(a=>({composeDraft:{...a.composeDraft,...n}})),closeCompose:()=>r({isComposing:!1,composeDraft:null}),setLoading:(n,a)=>r(s=>({loading:{...s.loading,[n]:a}})),setPagination:n=>r(a=>({pagination:{...a.pagination,...n}})),reset:()=>r({currentAccount:null,messages:[],selectedMessage:null,currentFolder:"inbox",searchQuery:"",filterUnread:!1,filterStarred:!1,composeDraft:null,isComposing:!1})}),{name:"email-storage",partialize:r=>({selectedAccountId:r.selectedAccountId,currentFolder:r.currentFolder})})),jn=Pn;function Xn({mode:r="new",replyTo:t=null,account:n=null,onClose:a,onSent:s}){const{toast:c}=tn();nn();const{currentAccount:A,composeDraft:R,updateComposeDraft:F,closeCompose:E,triggerRefresh:z}=jn(),h=n||A,[U,I]=q.useState(!1),[G,p]=q.useState(!1),[B,K]=q.useState(!1),[S,w]=q.useState(!1),[b,$]=q.useState(!1),[Z,Se]=q.useState([]),ve=q.useRef(null);q.useEffect(()=>{console.log("[EmailComposer] ðŸ” DEBUG currentAccount:",{existe:!!h,id:h==null?void 0:h.id,email:h==null?void 0:h.from_email,mode:r,replyTo:!!t})},[h,r,t]);const[g,ne]=q.useState({to:[],cc:[],bcc:[],subject:"",body_html:"",body_text:""});q.useEffect(()=>{if(r==="reply"&&t){const m=`

---
De: ${t.from_name||t.from_address}
Fecha: ${new Date(t.date).toLocaleString()}

${t.body_text||t.body_html||""}`;ne({to:[t.from_address],cc:[],bcc:[],subject:`Re: ${t.subject||""}`,body_html:m,body_text:m})}else if(r==="replyAll"&&t){const x=[...t.to_addresses||[],...t.cc_addresses||[]].filter(d=>d!==(h==null?void 0:h.fromEmail)&&d!==t.from_address),P=`

---
De: ${t.from_name||t.from_address}
Fecha: ${new Date(t.date).toLocaleString()}

${t.body_text||t.body_html||""}`;ne({to:[t.from_address],cc:x,bcc:[],subject:`Re: ${t.subject||""}`,body_html:P,body_text:P}),K(x.length>0)}else r==="forward"&&t?ne({to:[],cc:[],bcc:[],subject:`Fwd: ${t.subject||""}`,body_html:`<br/><br/>---<br/><strong>De:</strong> ${t.from_name||t.from_address}<br/><strong>Asunto:</strong> ${t.subject}<br/><strong>Fecha:</strong> ${new Date(t.date).toLocaleString()}<br/><br/>${t.body_html||""}`,body_text:""}):R&&ne(R)},[r,t,R]);const v=(m,x)=>{ne({...g,[m]:x}),F({[m]:x})},re=(m,x)=>{const P=x.split(/[,;\s]+/).filter(d=>d.trim());v(m,P)},fe=async()=>{var m,x,P;if(!h){c({variant:"destructive",title:"Sin cuenta conectada",description:"Conecta tu cuenta de Gmail o Outlook para enviar correos"});return}if(!g.to||g.to.length===0){c({variant:"destructive",title:"Error",description:"Agrega al menos un destinatario"});return}if(!(!((m=g.subject)!=null&&m.trim())&&!confirm("El asunto estÃ¡ vacÃ­o. Â¿Enviar de todos modos?"))){I(!0);try{const d={accountId:h.id,to:g.to,cc:g.cc,bcc:g.bcc,subject:g.subject,body:g.body_html||g.body_text,attachments:Z};r==="reply"&&t&&(d.threadId=t.thread_id||t.threadId,d.messageId=t.id||t.message_id,console.log("[EmailComposer] â†©ï¸ Reply mode - threadId:",d.threadId,"messageId:",d.messageId));const te=await rn(d);r==="reply"&&(!te||!te.messageId)?(console.warn("[EmailComposer] âš ï¸ [P0-3] Backend respondiÃ³ sin messageId - NO confirmado"),c({variant:"destructive",title:"âš ï¸ Error al responder",description:"El backend no confirmÃ³ el envÃ­o. Verifica en 'Enviados' si llegÃ³."})):c({title:"âœ“ Correo enviado",description:"El correo se enviÃ³ exitosamente"}),z&&setTimeout(()=>{z().catch(N=>{console.warn("[EmailComposer] âš ï¸ Error al refrescar (silenciado, correo ya enviado):",N)})},500),s&&s(te),he()}catch(d){console.error("[EmailComposer] âŒ [P0-3] Error al enviar:",d);const te=((P=(x=d.response)==null?void 0:x.data)==null?void 0:P.message)||d.message||"Error desconocido al enviar";c({variant:"destructive",title:"âŒ Error al enviar",description:`${te}

Revisa destinatario, asunto y contenido`})}finally{I(!1)}}},pe=async()=>{if(h){p(!0);try{await on(h.id,g),c({title:"âœ“ Borrador guardado",description:"El borrador se guardÃ³ correctamente"})}catch{c({variant:"destructive",title:"Error",description:"No se pudo guardar el borrador"})}finally{p(!1)}}},je=m=>{const x=Array.from(m.target.files);if(x.length===0)return;const P=x.map(d=>({filename:d.name,size_bytes:d.size,content_type:d.type,file:d}));Se([...Z,...P]),c({title:"âœ“ Archivos adjuntos",description:`${x.length} archivo(s) adjuntado(s)`})},Fe=m=>{Se(Z.filter((x,P)=>P!==m))},he=()=>{(g.to.length>0||g.subject||g.body_html)&&!confirm("Â¿Descartar este borrador?")||(E(),a&&a())};return b?l.jsx("div",{className:"fixed bottom-0 right-4 w-64 rounded-t-lg shadow-lg cursor-pointer hover:opacity-90 transition-all",style:{backgroundColor:"var(--color-bg-primary)",borderTop:"3px solid var(--color-primary)"},onClick:()=>$(!1),children:l.jsxs("div",{className:"flex items-center justify-between p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[l.jsx(Qe,{className:"w-4 h-4 shrink-0",style:{color:"var(--color-primary)"}}),l.jsx("span",{className:"text-sm font-medium truncate",style:{color:"var(--color-text-primary)"},children:g.subject||"Nuevo mensaje"})]}),l.jsx("button",{onClick:m=>{m.stopPropagation(),he()},className:"p-1 hover:opacity-80",children:l.jsx(Ze,{className:"w-4 h-4",style:{color:"var(--color-text-secondary)"}})})]})}):l.jsxs("div",{className:"fixed bottom-0 right-4 w-full max-w-2xl rounded-t-lg shadow-2xl flex flex-col",style:{backgroundColor:"var(--color-bg-primary)",height:"600px",maxHeight:"80vh",borderTop:"3px solid var(--color-primary)",zIndex:9999},children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"var(--color-border)"},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qe,{className:"w-5 h-5",style:{color:"var(--color-primary)"}}),l.jsx("h3",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:r==="reply"?"Responder":r==="replyAll"?"Responder a todos":r==="forward"?"Reenviar":"Nuevo mensaje"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:pe,disabled:G,className:"p-2 rounded hover:opacity-80 transition-all disabled:opacity-50",title:"Guardar borrador",children:G?l.jsx(wt,{className:"w-4 h-4 animate-spin",style:{color:"var(--color-text-secondary)"}}):l.jsx(an,{className:"w-4 h-4",style:{color:"var(--color-text-secondary)"}})}),l.jsx("button",{onClick:()=>$(!0),className:"p-2 rounded hover:opacity-80 transition-all",title:"Minimizar",children:l.jsx(sn,{className:"w-4 h-4",style:{color:"var(--color-text-secondary)"}})}),l.jsx("button",{onClick:he,className:"p-2 rounded hover:opacity-80 transition-all",title:"Cerrar",children:l.jsx(Ze,{className:"w-4 h-4",style:{color:"var(--color-text-secondary)"}})})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"p-4 space-y-3 border-b",style:{borderColor:"var(--color-border)"},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-sm font-medium w-16 shrink-0",style:{color:"var(--color-text-secondary)"},children:"Para:"}),l.jsx("input",{type:"text",value:g.to.join(", "),onChange:m=>re("to",m.target.value),placeholder:"destinatario@email.com",className:"flex-1 px-2 py-1.5 rounded border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"}}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>K(!B),className:"text-sm px-2 py-1 rounded hover:opacity-80",style:{color:"var(--color-text-secondary)"},children:"Cc"}),l.jsx("button",{onClick:()=>w(!S),className:"text-sm px-2 py-1 rounded hover:opacity-80",style:{color:"var(--color-text-secondary)"},children:"Bcc"})]})]}),B&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-sm font-medium w-16 shrink-0",style:{color:"var(--color-text-secondary)"},children:"Cc:"}),l.jsx("input",{type:"text",value:g.cc.join(", "),onChange:m=>re("cc",m.target.value),placeholder:"copia@email.com",className:"flex-1 px-2 py-1.5 rounded border",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"}})]}),S&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-sm font-medium w-16 shrink-0",style:{color:"var(--color-text-secondary)"},children:"Bcc:"}),l.jsx("input",{type:"text",value:g.bcc.join(", "),onChange:m=>re("bcc",m.target.value),placeholder:"copia-oculta@email.com",className:"flex-1 px-2 py-1.5 rounded border",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"}})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-sm font-medium w-16 shrink-0",style:{color:"var(--color-text-secondary)"},children:"Asunto:"}),l.jsx("input",{type:"text",value:g.subject,onChange:m=>v("subject",m.target.value),placeholder:"Asunto del mensaje",className:"flex-1 px-2 py-1.5 rounded border",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"}})]})]}),Z.length>0&&l.jsx("div",{className:"px-4 py-2 border-b space-y-1",style:{borderColor:"var(--color-border)"},children:Z.map((m,x)=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded",style:{backgroundColor:"var(--color-bg-secondary)"},children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[l.jsx(Ot,{className:"w-4 h-4 shrink-0",style:{color:"var(--color-text-tertiary)"}}),l.jsx("span",{className:"text-sm truncate",style:{color:"var(--color-text-primary)"},children:m.filename}),l.jsxs("span",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:["(",(m.size_bytes/1024).toFixed(1)," KB)"]})]}),l.jsx("button",{onClick:()=>Fe(x),className:"p-1 rounded hover:opacity-80",title:"Eliminar",children:l.jsx(Ze,{className:"w-4 h-4",style:{color:"var(--color-text-secondary)"}})})]},x))}),l.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:l.jsx("textarea",{autoFocus:!0,disabled:!1,value:g.body_html,onChange:m=>v("body_html",m.target.value),placeholder:"Escribe tu mensaje aquÃ­...",className:"flex-1 p-4 resize-none focus:outline-none",style:{backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)",pointerEvents:"auto",zIndex:1}})})]}),l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t",style:{borderColor:"var(--color-border)"},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{ref:ve,type:"file",multiple:!0,onChange:je,className:"hidden"}),l.jsxs("button",{onClick:()=>{var m;return(m=ve.current)==null?void 0:m.click()},className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:opacity-80 transition-all",style:{backgroundColor:"var(--color-bg-secondary)",color:"var(--color-text-primary)"},children:[l.jsx(Ot,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"Adjuntar"})]})]}),l.jsx("button",{onClick:fe,disabled:U||!g.to.length,className:"flex items-center gap-2 px-6 py-2 rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:U||!g.to.length?"var(--color-bg-tertiary)":"var(--color-primary)",color:"white"},children:U?l.jsxs(l.Fragment,{children:[l.jsx(wt,{className:"w-5 h-5 animate-spin"}),"Enviando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Qe,{className:"w-5 h-5"}),"Enviar"]})})]})]})}export{Wn as A,Xn as E,$n as I,Yn as p,jn as u};
